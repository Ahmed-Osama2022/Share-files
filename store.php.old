<?php
// Set upload limits in the script
// ini_set('post_max_size', '100000000000M');
// ini_set('upload_max_filesize', '100000000M');

if ($_SERVER['REQUEST_METHOD'] === 'POST' &&  isset($_POST['submit'])) {
  echo "worked";
  echo "<pre>";
  var_dump($_FILES['userfile']);
  echo "</pre>";

  // Access file details
  $fileName = $_FILES['userfile']['name'];
  $fileTmpName = $_FILES['userfile']['tmp_name'];
  $fileSize = $_FILES['userfile']['size'];
  $fileError = $_FILES['userfile']['error'];
  $fileType = $_FILES['userfile']['type'];

  // Example: Moving uploaded file to a directory
  $directory = 'uploads/';

  if ($fileError === 0) {
    if (!is_dir($directory)) {
      mkdir($directory, 0755, true);
      echo "Directory 'uploads/' created successfully";
    }
      $targetDirectory = 'uploads/';
      $targetFilePath = $targetDirectory . basename($fileName);
      echo "Please wait while transfering the file...";
      move_uploaded_file($fileTmpName, $targetFilePath);
      echo "<h3 class='text-success'> File uploaded successfully.</h3>";
  } else {
      echo "<h3 class='text-danger'>Error uploading file.</h3>";
  }

  return;
} 

